<!-- .slide: id="84847c8ea82d" -->
# In 2019

Notes:
- Let me tell you a story..
- In 2019

;VS;
<!-- .slide: id="e8a04bbe011d" -->
![packt](assets/images/packt.png)

### reached out to me for a video course
### on IONIC <!-- .element class="fragment" -->

Notes:
- one of the biggest publishers (Packt) reached out and asked if I wanted to create a video course for them
- On IONIC. 
- How many of you have worked with IONIC? 
- Ooh. That‚Äôs awesome!

;VS;
<!-- .slide: id="18c7fef6645c" -->
 

### And I thought. That's super cool

![awesome](assets/images/monorepo-with-nx/awesome.webp)

Notes:
- I've always wanted to create professional video courses for others. 
- Inspired by great tutors like John Papa, and Todd Motto.

;VS;
<!-- .slide: id="c6ee2fb0b825" -->
 

# But...

Notes:
- Surprise!!

;VS;
<!-- .slide: id="4b3960c5b4e1" -->

### I used to live with my family back then

![joint-family](assets/images/monorepo-with-nx/joint-family.webp)

Notes:
- That is I lived in a joint-family system. 
- And that‚Äôs pretty common in Pakistan
- And is much preferred as well.
- However, you usually only had one room to yourself in such a setup

;VS;
<!-- .slide: id="0445e5c1526b" -->
 

### And used to record the videos at night

![recording at night](assets/images/monorepo-with-nx/recording-at-night.webp)

;VS;
<!-- .slide: id="7135484514a1" -->
 

### I faced some challenges

;VS;
<!-- .slide: id="fed3bfcdce6b" -->
 
<!-- .element data-transition="none" -->

![recording at night](assets/images/monorepo-with-nx/recording-at-night.webp)

Notes:
- First of all, my room had almost no furniture and I was just married.
- Even the slightest sound in the room would've been captured in the recordings.
- There have been instances when the slightest sound of  my wife‚Äôs turns on the bed while she‚Äôs sleeping would piss me off.


;VS;
<!-- .slide: id="7a237816d3e2" -->
 
<!-- .element data-transition="none" -->

### I then tried to record from the living room...

![recording in living room](assets/images/monorepo-with-nx/recording-living-room.webp)

Notes:
- So I went outside in the living room to record in peace.
- But that had a window to the frontside of the house
- And I would often hear

;VS;
<!-- .slide: id="3338012fc283" data-transition="none" -->
 
<video style="max-width: 100%; max-height: 100%" data-autoplay src="assets/videos/monorepo-with-nx/rooster.mp4"></video>

Notes:
- Roosters
- Or...

;VS;
<!-- .slide: id="8096ac0cf7f1" data-transition="none" -->
 
<video style="max-width: 100%; max-height: 100%" data-autoplay src="assets/videos/monorepo-with-nx/bike.mp4"></video>

Notes:
- Bikes going around

;VS;
<!-- .slide: id="eeaf74896993" data-transition="none" -->
 
<video style="max-width: 100%; max-height: 100%" data-autoplay src="assets/videos/monorepo-with-nx/screaming.mp4"></video>

Notes:
- And that resulted in a lot of frustration

;VS;
<!-- .slide: id="bbb4eb620658" -->

## Fortunately, I moved to Sweden

;VS;
<!-- .slide: id="7fb11a97a69a" data-transition="none" -->
 
![sweden](assets/images/monorepo-with-nx/happiness.jpg)

;VS;
<!-- .slide: id="19efaf2c7220" -->
 

### Once I published the video course, I thought...

;VS;
<!-- .slide: id="2b6b7451c0d2" -->
 

![rich](assets/images/monorepo-with-nx/dreaming-rich.webp)

;VS;
<!-- .slide: id="f5374431d2f8" -->
 

## However...
#### It was the time when ...

;VS;
<!-- .slide: id="e430867023e1" -->
 

![react-native](assets/images/monorepo-with-nx/react-native-ionic.png)

Notes:
- React Native came out
- People started using React Native more
- And my course didn't sell as well as we thought

;HS;

<!-- .slide: id="e4e2b6d22830" -->

# In 2020

;VS;
<!-- .slide: id="1258581ffd79" -->
![packt](assets/images/packt.png)

### asked me if I would be interested in writing a book on Angular

;VS;
<!-- .slide: id="ee2861ce4e2a" -->

### Long story short

#### It took over 10 months <!-- .element class="fragment" -->
![ng-cookbook](assets/images/ng-book-cover.png) <!-- .element style="height: 400px" -->
#### And we sold 2000+ copies over the years <!-- .element class="fragment" -->

;HS;

# In late 2022

;VS;

<!-- .slide: id="5451776ee2cc" -->
 

![packt](assets/images/packt.png)

### reached out for authoring the `2nd edition` of the book

;VS;
<!-- .slide: id="7403bb8a83e2" -->
 

### At first, I thought it would be easy

Notes:
- At first, I thought this would be an easy win
- I thought, "it is just an updated version of the book, right".
- I mean most of it would remain the same.

;VS;
<!-- .slide: id="a71b3d19091f" -->
 

### But when I looked at the code base,
### I knew I was in trouble <!--.element class="fragment" -->

;VS;
<!-- .slide: id="6a68a599c6af" -->
 

### 150+ projects

<div style="display: flex; gap: 16px; align-items: center; justify-content: space-around;">
  <img style="max-width: 50%;
    width: max-content;
    object-fit: cover;
    max-height: 100%;
    height: 400px;
    margin: 0;" src="assets/images/angular-schematics/80-projects.gif">
  <img style="max-width: 50%;
    width: max-content;
    object-fit: cover;
    max-height: 100%;
    height: 400px;
    margin: 0;" src="assets/images/angular-schematics/80-projects.gif">
</div>

Notes:
- I saw 150+ projects
- Angular projects

;VS;
<!-- .slide: id="72b926fdb958" -->
 

### Waiting to be updated

![v7 to v16](assets/images/monorepo-with-nx/v7-v16.png)

Notes:
- From v12 to v17
- And if you know, the ideal way is to update from one major version to another, at a time.

;VS;
<!-- .slide: id="04eab0241569" -->
 

![slow-motion](assets/images/angular-schematics/ng-release-cycle.png) <!-- .element: style="height: 500px;" -->

;VS;
<!-- .slide: id="7dfea006220c" -->
 

## Updating all the recipes

![slow-motion](assets/memes/slow-motion.gif) <!-- .element: style="height: 500px;" class="fragment" -->


Source: https://angular.dev/reference/releases

;VS;
<!-- .slide: id="9138783abef8" -->

## So what did I do?

![NX](https://raw.githubusercontent.com/nrwl/nx/master/images/nx-dark.svg) <!-- .element: class="fragment" -->
Notes:
- So what did I do?
- I was fortunate enough to stumble upon NX.
- One of the best ways to work with a monorepo/workspace hosting multiple applications

;VS;
<!-- .slide: id="b5481d475969" -->
 

###### I decided to have 1 monorepo with 2 Nx workspaces. 

![80-to-2.gif](assets/images/monorepo-with-nx/to-nx-ws.gif) <!-- .element: style="height: 500px;" class="fragment" -->
One for the `starter` files and the other containing the `final` codes for the recipes
;VS;
<!-- .slide: id="865b0e34e59d" -->
 

![nx-monorepo](assets/images/angular-schematics/nx-monorepo.png) <!-- .element: style="height: 500px;" -->

Notes:
- I planned it to look like this.
- Having 1 monorepo
- Inside, two NX workspaces
- Each workspace having chapters, and inside, the recipes

;VS;

<!-- .slide: id="8b55864d421b" -->
![question](assets/images/monorepo-with-nx/question.webp) 

;VS;
<!-- .slide: id="694516e6989b" -->

- How many of you love UI/UX?
- How many of you advocate for great UI/UX?
<!-- .element: class="fragment" -->

- How many of you advocate for great `Developer Experience` (DX)?
<!-- .element: class="fragment" -->

Notes:
- Can I have a show of hands?
- Now that's what my focus was for the book.
- Not only a great DX for the readers, but for myself as well.

;VS;

<!-- .slide: id="b6cae7af772f" -->

## With the current NX structure

<div style="display: flex; gap: 16px; align-items: center; justify-content: space-around;">
  <img style="max-width: 50%;
    width: max-content;
    object-fit: contain;
    max-height: 100%;
    height: 400px;
    margin: 0;" src="assets/images/angular-schematics/nx-monorepo.png">
  <img style="max-width: 50%;
    width: max-content;
    object-fit: cover;
    max-height: 100%;
    height: 400px;
    margin: 0;" src="assets/images/monorepo-with-nx/ws-structure.png">
</div>

;VS;
<!-- .slide: id="aa72b55fb9fd" -->
## To run any recipe, my readers would have to run:

```bash
cd start
nx serve chapter01-cc-ng-on-changes
# OR
cd start 
nx serve chapter01-cc-inputs-outputs
# OR
cd start
nx serve chapter-09-ng-cdk-virtual-scroll
```
<!-- .element: class="fragment" -->

Notes:
- Can you see the problem here?
- They would always have to cd (change directory) in the start folder (which is almost always what they want to run following the recipes of the book).
- They always have to type the chapter number. Which is quite repetitive. 

;VS;

## As developers, we want to be

## DRY
<!-- .element: class="fragment" -->
<img src="https://i.giphy.com/media/v1.Y2lkPTc5MGI3NjExZnRhZXhnaXdwbWpnMmduNzNvb2I5NThqbXg0anV6ZGN4djJoYXNpYyZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/EXAZVf83UzrFu/giphy.gif" class="fragment" style="height: 300px">

Notes:
- And as developers, we want to be DRY (joke - image)

;VS;

## But also remember, we need a really good `DX`
### Developer Experience <!-- .element: class="fragment"  -->

;VS;

### The first goal was to enable the readers to do the following:

```bash
npm run serve chapter01-cc-inputs-outputs
# OR
npm run serve chapter01-cc-inputs-outputs final
```

Notes:
- Which means they shouldn't have to cd into any folder

;VS;

### The second goal was to avoid typing the chapter name when running a recipe

```bash
npm run serve chapter01-cc-inputs-outputs # ‚ùå

npm run serve cc-inputs-outputs # ‚úÖ

```

;VS;

### For the first goal, I wrote a shell script

> serve-projects.sh
```bash
cd "start" && npx nx serve "$APP_NAME" --port=4200 -o
```

> package.json
```json
{
  ...,
  "scripts": {
    "serve": "sh scripts/serve-projects.sh",
    ...
  }
}
```

Notes:
- The script just cds into the directory and serves the app, and opens it in a new browser tab
- The actual script is a bit more complex than this to handle some edge cases

;VS;

With this change, I could now simply run from my workspace root

```bash
npm run serve chapter01-cc-inputs-outputs
```
OR
```bash
# runs the app from the `final` NX workspace
npm run serve chapter01-cc-inputs-outputs final

```

;VS;

## Now, I had to focus on our second goal
```bash
npm run serve chapter01-cc-inputs-outputs # ‚ùå

# avoid having to type the chapter name
npm run serve cc-inputs-outputs # ‚úÖ

```

;VS;


### To avoid using the chapter name, I had three possibilities when creating new projects:
- Excluding the chapter name `before` it is created
<!-- .element: class="fragment" -->

- Renaming the project `after` is is created
<!-- .element: class="fragment" -->

- Give up and start writing a `PhP` book instead
<!-- .element: class="fragment" -->

;VS;

### I chose the 2nd approach

### Why?? <!-- .element: class="fragment" -->

;VS;

![i don't know](https://media2.giphy.com/media/v1.Y2lkPTc5MGI3NjExdmN1cHUwNzJvazk2ZjBybGwybHd3bXE0OHpzOTRidGY2ZDRoMzFhZSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/xWf1DUKtDJCemqVQNK/giphy.webp)


Notes:
- I had ZERO idea what I was doing
- And you should understand that I'm still creating all these projects from scratch

;HS;

## Coming back to the problem at hand, to be able to do this...

```bash
# avoid having to type the chapter name
npm run serve cc-inputs-outputs # ‚úÖ
```

;VS;

## I created an NX plugin using the `@nrwl/nx-plugin` package

<!-- .slide: id="f25d009d0c78" -->

;VS;

# Why??

;VS;

Let's have a look at how I was creating the applications for my book then:

```bash
cd start && npx nx g @nrwl/angular:application chapter01/cc-ng-on-changes
```
<!-- .element: class="fragment"  -->

The above generates an app with the name <!-- .element: class="fragment"  -->

*`chapter01-cc-ng-on-changes`*
<!-- .element: style="color: yellow;" class="fragment" -->

Notes:
- Since we want to create the app inside the chapter folder, the chapter name becomes a part of the path. Thus becoming a part of the app's name by NX.

;VS;
<!-- .slide: id="b1440aeae9eb" -->

![thinking-maths](assets/memes/thinking-maths.gif) <!-- .element: style="height: 500px;" -->


Notes:
- Can we do better?

;VS;
<!-- .slide: id="58b5850c1e04" -->

#### The plugin I created contained two counterparts

![nx-plugin](assets/images/angular-schematics/nx-plugin.png)

Notes:
- Nx generators
- Nx executors

;VS;
<!-- .slide: id="d5c186d07bdd" -->
 
![Generator purpose](assets/images/monorepo-with-nx/generator-purpose.png)  <!-- .element: style="height: 500px; object-fit: contain;" -->

Notes:
- The NX plugin uses the Nx generator to generate the Angular app
- It also adds an executor to the project.json of the created app

;VS;

<!-- .slide: id="4a68d7f3d80b" -->
 
<small>@codewithahsan/.../generators/ng-cookbook-recipe/generator.ts</small>


![Generator code example](assets/images/angular-schematics/generator-exp.png) 

;VS;
<!-- .slide: id="4886236d8ef8" -->
 

![Generator code generated](assets/images/angular-schematics/generator-project-code.png) 

;VS;
<!-- .slide: id="8fead060cdc2" -->
 

![Executor purpose](assets/images/monorepo-with-nx/executor-purpose.png)  <!-- .element: style="height: 500px; object-fit: contain;" -->

Notes:
- The Nx plugin the runs the added executor
- Which results in removing the chapter name from the app's name

;VS;
<!-- .slide: id="3a86e71d4e98" -->
 
<small>@codewithahsan/.../executors/rename/executor.ts</small>


![Generator code example](assets/images/angular-schematics/executor-code.png) <!-- .element: style="position: relative; bottom: 60px; scale: 0.85;" -->

Notes:
- And this is how the code looks

;VS;
<!-- .slide: id="52eff4a94792" -->
 
### Which means, if I run:


![App Generation Process](assets/images/angular-schematics/app-generation-process.png)
<!-- .element: style="height: 600px" -->

;VS;
<!-- .slide: id="ee7cd3738200" -->
 

#### Let's disect the command to understand better

![Create command explanation](assets/images/angular-schematics/run-create-command.png)

Notes:
- If we try to disect the command, this is what we've got

;VS;
<!-- .slide: id="4893c0589055" -->
 
#### And this is the bash script

```bash
# code stripped for conciseness

CHAPTER="chapter$1"
APP_NAME=$2
APP_FULL_NAME=`echo "$CHAPTER/$APP_NAME" | sed -r 's/[/]+/-/g'`
APP_TITLE=$3

echo "creating project for start"
cd "start" && npx nx g @codewithahsan/ng-cookbook-recipe:ng-cookbook-recipe \
"$APP_NAME" --title="$APP_TITLE" --directory="$CHAPTER" --style scss\
--routing --e2eTestRunner none --skipDefaultProject --addTailwind

npx nx run "$APP_FULL_NAME:rename"
```

;VS;
<!-- .slide: id="bf731ac2c998" -->

Which means, for this folder structure,
 
![nx-monorepo](assets/images/angular-schematics/nx-monorepo.png) <!-- .element: style="height: 500px;" -->

;VS;

I could now run:
```shell
npm run serve cc-ng-on-changes
```
<!-- .element: class="fragment" -->
;VS;

## Do you remember what our goal was?
### A great DX...<!-- .element: class="fragment" -->

<img src="https://i.giphy.com/media/v1.Y2lkPTc5MGI3NjExbzEzOTN1NWFhb3QwYTZwcDZhdmc0dG1hcXU1Zm10enAyOXdmODJ6bSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/xT4Apvuo4QoOX1gzEk/giphy.gif" class="fragment" style="height: 400px">

;VS;

## I think we achieved it, at least to some extent

;VS;

## And to be honest, I was... 

![over the moon](assets/images/monorepo-with-nx/over-the-moon.webp)

Notes:
- Not only I solved the problem, but I also conquered...

;VS;

<video style="max-width: 100%; max-height: 100%;" data-autoplay src="assets/videos/monorepo-with-nx/fear-ng-schematics.mp4"></video>

Notes:
- My fear of learning Angular Schematics

;HS;

## And just as I felt enlightened...


<img src="https://i.giphy.com/media/v1.Y2lkPTc5MGI3NjExcHVlZDd1eG92ZThhcTdmdTA1aGdmdmszbmZ6amY1cGRrOG44cWZraSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/ekM7Gbg5kRE4Lvo3tL/giphy.gif" class="fragment" style="height: 500px;">

Notes:
- Another problem knocked on my door
;VS;


## Have you heard this term called `consistency`?

Notes:
- For example, myself not consistently going to the gym but paying for it for many years. 
- Well, I wanted consistency, but for my projects. 
- I wanted them to look the same, and have a consistent UI/UX. 

;VS;
<!-- .slide: id="d70335cb104b" -->
 
## The idea was to have the same header across all the projects



;VS;
<!-- .slide: id="bdd28000f157" -->
![App Layout](assets/images/angular-schematics/app-layout.png) 

Notes:
- alongside a container which holds the different application bodies

;VS;
<!-- .slide: id="3a18f0c7b0be" -->

![App Layout](assets/images/angular-schematics/app-layout-2.png) 

;VS;

### I thought I could do the following:

![generator header](assets/images/monorepo-with-nx/generator-header.png)

Notes:
- Create two templates for my NX generator to use
- The index.html template will ensure I have the right fonts and icons throughout all apps
- The app.componen.html template will ensure the consistent header and the main body

;VS;

index.html__template__

![Template Index](assets/images/angular-schematics/template-index.png)  

;VS;

app.component.html__template__
![Template App HTML](assets/images/angular-schematics/template-app-component-html.png) 
<!-- .element: style="height: 650px;"  -->

;VS;
<!-- .slide: id="371b66e07672" -->
## But we only discussed HTML templates here. What about the biggest fear of web developers?

;VS;

<img src="https://i.giphy.com/media/v1.Y2lkPTc5MGI3NjExa3VzYmt6aTl4cG55dXE3ZW91ZmRmOTRta29ubTB1OWI5a2ozZ3FyeSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/13FrpeVH09Zrb2/giphy.gif" style="height: 500px" >

;VS;


## Well, this is when I created an NX Library.

;VS;

![nx-styles-1](assets/images/angular-schematics/global-styles-1.png)  <!-- .element: style="height: 500px; object-fit: contain;" -->

Notes:
- I created an NX Angular Library and added the global styles file
- These styles should be used in all the projects

;VS;
<!-- .slide: id="92ab11717923" -->

![nx-styles-2](assets/images/angular-schematics/global-styles-2.png)  <!-- .element: style="height: 500px; object-fit: contain;" -->

Notes:
- In order for projects to use these styles, the library had to package
- and export them

;VS;
<!-- .slide: id="920ab3025063" -->
 
So I added another function in my

![generator-add-styles](assets/images/angular-schematics/generator-add-styles.png)  <!-- .element: style="height: 500px; object-fit: contain;" -->

;VS;

<video style="max-width: 100%; max-height: 100%" data-autoplay src="assets/videos/monorepo-with-nx/globals-styles.mp4"></video>

;VS;

## And the result was... ü•Å

;VS;
<!-- .slide: id="4715c9517363" -->

#### Final Output

![Output](assets/images/angular-schematics/cc-ng-on-changes.png)  <!-- .element: style="position: relative;" -->

;HS;

## And just as I thought everything was ü¶ã and ‚òÄÔ∏è

## Something `BIG` happened!
<!-- .element: class="fragment"  -->

Notes:
- Something I didn‚Äôt expect at all. 

;VS;

## Can you guess??

Notes:
- Can anyone guess? 
- And mind you, my whole project was READY to be shipped with the book!

;VS;
<!-- .slide: id="55c2a2cfb6bf" -->
 

## Angular Changed their Logo üò±

![Angular New Logo](https://miro.medium.com/v2/resize:fit:1400/format:webp/0*UC-tiSyyd6b2JNaA)
<!-- .element: class="fragment" -->

Notes:
- Yeah
- They went from this... to this...

;VS;
<!-- .slide: id="b6f55713cb25" -->
 

And now I was left with 150+ projects having the harcoded Angular logo (from the generator)

![Facepalm](https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExZnY1bTVucnh1NHAxaXA2ZzhjYTBpa2YxdGMweXcwYWNzYTM4eGxsdSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/27EhcDHnlkw1O/giphy.gif) <!-- .element: style="height: 600px" -->
;VS;

If you remember:

![Template App HTML](assets/images/angular-schematics/template-app-component-html.png) 
<!-- .element: style="height: 600px;" -->
 
;VS;

## I composed myself!

![compose](https://i.giphy.com/media/v1.Y2lkPTc5MGI3NjExcmNod3d1aW80bWF6cTRzdzNyZmxlZm83aGswZ3RuNHR4MzlwMHFpdyZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/o1my3cNPnC4iHmTBrC/giphy.gif)

;VS;
<!-- .slide: id="99dffd8758e2" -->
 

The first thing came to my mind was to go from this:

app.component.html__template__
![Template App HTML](assets/images/angular-schematics/template-app-component-html.png) 
<!-- .element: style="height: 600px;" -->


Notes:
- To use a header component that I can create in my library
- And reuse in all projects


;VS;
<!-- .slide: id="51d6c56abbe5" -->
 

### To this:

app.component.html__template__
![Template App HTML](assets/images/angular-schematics/template-app-component--revised-html.png) 
<!-- .element: style="height: 600px;" -->

;VS;

## Does that sound good?? üôãüèª‚Äç‚ôÇÔ∏è
<!-- ;VS; -->
<!-- .slide: id="0b9592ff7329" -->

<!-- app.component.ts__template__ -->

<!-- ![Template App TS](assets/images/angular-schematics/template-app-component-ts.png)  -->

;VS;

‚ùå
<!-- .element: style="font-size: 172px;" -->

;VS;


<!-- .slide: id="1975cebd43b3" -->
 

## Because it was too late üòî

### I already had created the apps, and the generator and templates work when creating new apps <!-- .element: class="fragment" -->

;VS;

But what about my cats??

![old cats](assets/images/monorepo-with-nx/150-old-ng.png)

;VS;
<!-- .slide: id="7f8e81c6675a" -->
 

### I started thinking about the solution

;VS;

### My main questions were:
- How do geniuses at Angular and NX solve such issues? <!-- .element: class="fragment"  -->
- How can I have a graceful fallback if such a workspace-wide process fails? <!-- .element: class="fragment"  -->
- How do I ensure I don't have to think about the same problem again? <!-- .element: class="fragment"  -->


;VS;
<!-- .slide: id="0ce0ce553d63" -->

#### First, I created the header component in my NX Angular library

![ui-lib-2](assets/images/angular-schematics/ui-lib-2.png)  <!-- .element: style="height: 500px; object-fit: contain;" class="fragment" -->

Notes:
- I created the header component in my Nx Angular Library
- Since it is inside the library, it is very easy to update so that all projects use it

;VS;
<!-- .slide: id="381701e7459b" -->
 

#### Secondly,

![Nx Migrations](assets/images/angular-schematics/nx-migrations.png)
<!-- .element: class="fragment"  -->

;VS;

![Nx Migrations](assets/images/monorepo-with-nx/migrations-plan.png)

Notes:
- An NX migration can point to a typescript file (image) and can run on the workspace level. 
- What‚Äôs great is that we can control which version of our NX plugin would apply which migration.

;VS;
<!-- .slide: id="e6c12a339a6b" -->
### The goal was to run the migration 
(`replace-app-toolbar`) in both `start` and `final` workspaces
![Nx Migrations](assets/images/angular-schematics/nx-migrations-2.png)

;VS;
<!-- .slide: id="44145530a6c7" -->
 
This is the NX migration script that would replace the toolbars in all the projects

[Replace Toolbar Migration](https://github.com/PacktPublishing/Angular-Cookbook-2E/blob/86ec4ffe5c3fd5d034a0da32893f021b1d889540/codewithahsan/packages/ng-cookbook-recipe/src/migrations/replace-app-toolbar/replace-app-toolbar.ts)

;VS;
<!-- .slide: id="c96651bd27bb" -->
 

And finally, after running the migrations, I could replace all the headers

[Commit of replacing migrations](https://github.com/PacktPublishing/Angular-Cookbook-2E/commit/48352db45c54783a037aabd8d71c4a61223ddfb7)

;HS;

Once I ran the migration with this approach, things were `‚Äúmaska‚Äù` as we say in Pakistan. 

<img src="https://i.giphy.com/media/v1.Y2lkPTc5MGI3NjExYm82a244MGFtZnNzdWEwcTNuYzh3bWtrY3R5OG82cDBpaGN4dXAwMyZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/jKbTKhnHpHu1O/giphy.gif" class="fragment" style="height: 500px">

Notes:
- Translated buttery smooth. (image here)

;VS;
<!-- .slide: id="d7af6b894b7e" -->

And [this](https://packtpublishing.github.io/Angular-Cookbook-2E/chapter12/ng-perf-deferred/final/) is the final result

;VS;

#### I felt like a self-proclaimed NX expert

![nx-expert](assets/images/monorepo-with-nx/nx-expert.png) <!-- .element: style="height: 500px; object-fit: contain;" -->
;HS;
<!-- .slide: id="8da2b1540013" -->

## Summary

- Cats are ‚Ä¶ pawsome!! <!-- .element: class="fragment" -->
- Managing 150+ cats(projects) is completely pawssible! <!-- .element: class="fragment" -->
- No solution is purrfect! We always need to reevaluate and improve our solutions <!-- .element: class="fragment" -->
- It is never too late to learn something new. As soon as the opportunity presents itself, grab it! <!-- .element: class="fragment" -->
- NX is great for monorepos <!-- .element: class="fragment"  -->

;HS;
<!-- .slide: id="fbf31d5900e3" -->

## Thank you!

<div class="introduction">
  <div class="introduction__left">
    <img class="introduction__left__avatar" src="https://avatars.githubusercontent.com/u/9844254?v=4"/>
    <div class="introduction__left__info">
      <p>Muhammad Ahsan Ayaz</p>
      <p>GDE in Angular</p>
      <p>Software Architect at Scania Group</p>
      <p>Founder at VisionWise & IOMechs</p>
    </div>
  </div>
  <div class="introduction__right">
    <img class="introduction__right__ng-book"  src="https://ng-cookbook.com/assets/ng-cookbook-2.png"/>
    <a href="https://ng-book.com/buy">https://ng-book.com/buy</a>
  </div>
  <img src="assets/images/monorepo-with-nx/qr-code.png" style="    width: 150px;
    position: fixed;
    top: 0;
    left: 0;
    bottom: auto;
    margin: 0;
}" >
</div>

<div class="footer">
  <div>
    &nbsp;
  </div>
</div>